version: 1.3.1
cache: true
#fileStrategy: "s3"
# Balance settings
balance:
  enabled: false               # Enable token credit balances for users
  startBalance: 20000          # Initial tokens credited upon registration
  autoRefillEnabled: false     # Enable automatic token refills
  refillIntervalValue: 30      # Numerical value for refill interval
  refillIntervalUnit: "days"   # Time unit for refill interval (days, hours, etc.)
  refillAmount: 10000          # Tokens added during each refill
fileConfig:
  endpoints:
    assistants:
      fileLimit: 5
      fileSizeLimit: 10  # Maximum size for an individual file in MB
      totalSizeLimit: 50  # Maximum total size for all files in a single request in MB
      supportedMimeTypes:
        - "image/.*"
        - "application/pdf"
    openAI:
      disabled: false  # Disables file uploading to the OpenAI endpoint
    default:
      totalSizeLimit: 20
    YourCustomEndpointName:
      fileLimit: 2
      fileSizeLimit: 5
  serverFileSizeLimit: 100  # Global server file size limit in MB
  avatarSizeLimit: 2  # Limit for user avatar image size in MB
rateLimits:
  fileUploads:
    ipMax: 100
    ipWindowInMinutes: 60  # Rate limit window for file uploads per IP
    userMax: 50
    userWindowInMinutes: 60  # Rate limit window for file uploads per user
  #registration:
  #socialLogins: [ "openid" ]
endpoints:
  all:
    streamRate: 5
    titlePromptTemplate: |
      ### Task:
      Generate a concise, 3-5 word title with an emoji summarizing the chat history.
      
      ### Guidelines:
      - The title should clearly represent the main theme or subject of the conversation.
      - Always use emojis that enhance understanding of the topic, but avoid quotation marks or special formatting.
      - Write the title in the chat's primary language; default to English if multilingual.
      - Prioritize accuracy over excessive creativity; keep it clear and simple.
      - The title should be short and funny.
      - The emoji should come first.
      
      ### Output:
      Format "<emoji> your concise title here"
        ### Examples:
        - üìâ Stock Market Trends
        - üç™ Perfect Chocolate Chip Recipe
        - üéß Evolution of Music Streaming
        - üë®üèø‚Äçüíª Remote Work Productivity Tips
        - üß† Artificial Intelligence in Healthcare
        - üéÆ Video Game Development Insights
      
      ### Chat History:
      Human: {input}
      Assistant: {output}
  agents:
    recursionLimit: 50
    maxRecursionLimit: 100
    disableBuilder: false
    # (optional) Agent Capabilities available to all users. Omit the ones you wish to exclude. Defaults to list below.
    # capabilities: ["execute_code", "file_search", "actions", "tools", "artifacts", "ocr", "chain", "web_search"]
    # (optional) File citation configuration for file_search capability
    maxCitations: 20          # Maximum total citations in responses (1-50)
    maxCitationsPerFile: 7    # Maximum citations from each file (1-10)
    minRelevanceScore: 0.45   # Minimum relevance score threshold (0.0-1.0)
  assistants:
    disableBuilder: false # Disable Assistants Builder Interface by setting to `true`
    pollIntervalMs: 750  # Polling interval for checking assistant updates
    timeoutMs: 180000  # Timeout for assistant operations
    # Should only be one or the other, either `supportedIds` or `excludedIds`
    #supportedIds: [ "asst_supportedAssistantId1", "asst_supportedAssistantId2" ]
    #excludedIds: ["asst_excludedAssistantId"]
  custom:
    - name: "Converse"
      apiKey: "${CONVERSE_OPENAI_API_KEY}"
      baseURL: "http://10.10.0.142/v1"
      models:
        default:
          - "claude-sonnet-4"
          - "glm-4p6"
          - "gemini-3-flash-thinking"
          - "gemini-3-flash"
          - "gpt-5-mini"
          - "qwen3-235b-a22b-instruct-2507"
          - "qwen3-30b-a3b"
          - "gpt-5"
          - "deepseek-v3p1-terminus"
          - "codex-mini-latest"
          - "gemini-2-5-pro-reasoning"
          - "gemini-2-5-flash"
          - "gpt-4o-mini-tts"
          - "o4-mini-deep-research"
          - "qwen3-235b-a22b"
          - "gemini-2-5-pro-reasoning-1024"
          - "gemini-2-5-flash-lite"
          - "gpt-oss-20b"
          - "llama4-maverick-instruct-basic"
          - "o4-mini"
          - "gpt-4-1"
          - "text-embedding-3-large"
          - "qwen3-235b-a22b-thinking-2507"
          - "qwen3-coder-30b-a3b-instruct"
          - "glm-4p5"
          - "kimi-k2-thinking"
          - "kimi-k2-instruct-0905"
          - "gpt-image-1"
          - "gpt-4o-transcribe"
          - "llama-v3p1-8b-instruct"
          - "gpt-4-1-mini"
          - "qwen3-coder-480b-a35b-instruct"
          - "whisper-1"
          - "dall-e-3"
          - "gemini-3-pro"
          - "gemini-2-5-pro-reasoning-4096"
          - "deepseek-v3p1"
          - "gpt-4o-mini-audio"
          - "gpt-oss-120b"
          - "gpt-5-nano"
        fetch: true  # Attempt to dynamically fetch available models
        userIdQuery: true
      iconURL: "https://s3.camer.digital/converse/public/autumn.png"
      titleConvo: true
      titleMethod: "completion"
      titleModel: "gpt-5-nano"
      summarize: true
      summaryModel: "gpt-5-nano"
      forcePrompt: false
      modelDisplayLabel: "Converse AI"
      headers:
        X-User-ID: '{{ `{{` }}LIBRECHAT_USER_ID{{ `}}` }}'
        X-User-Email: '{{ `{{` }}LIBRECHAT_USER_EMAIL{{ `}}` }}'
        X-User-Role: '{{ `{{` }}LIBRECHAT_USER_ROLE{{ `}}` }}'
        Authorization: 'APIKEY ${CONVERSE_OPENAI_API_KEY}'