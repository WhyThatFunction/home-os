global:
  imageRegistry: container-registry.ssegning.com/docker
  security:
    allowInsecureImages: true

db:
  enabled: true
  instances: 1
  storage:
    size: 10Gi
    storageClass: longhorn
  resources:
    requests:
      memory: "512Mi"
      cpu: "500m"
    limits:
      memory: "1Gi"
      cpu: "1"

sentry:
  images:
    sentry:
      repository: container-registry.ssegning.com/github/getsentry/sentry
    snuba:
      repository: container-registry.ssegning.com/github/getsentry/snuba
    relay:
      repository: container-registry.ssegning.com/github/getsentry/relay
    symbolicator:
      repository: container-registry.ssegning.com/github/getsentry/symbolicator
    vroom:
      repository: container-registry.ssegning.com/github/getsentry/vroom
    uptimeChecker:
      repository: container-registry.ssegning.com/github/getsentry/uptime-checker
  
  snuba:
    cleanup:
      image:
        repository: container-registry.ssegning.com/docker/clickhouse/clickhouse-server
  redis:
    enabled: false
  externalRedis:
    host: "redis-master.database.svc.cluster.local"
  hooks:
    dbCheck:
      image:
        repository: container-registry.ssegning.com/github/subfuzion/netcat
  postgresql:
    enabled: false
  externalPostgresql:
    existingSecret: 'observe-pg-app'
    existingSecretKeys:
      password: password
      username: username
      database: dbname
      port: port
      host: host
  rabbitmq:
    enabled: false
  filestore:
    filesystem:
      persistence:
        storageClass: longhorn
  ingress:
    regexPathStyle: traefik
    ingressClassName: traefik
    hostname: sentry.ssegning.com
    annotations:
      cert-manager.io/cluster-issuer: cert-cloudflare
    tls:
      - secretName: sentry-ssegning-com-tls
        hosts:
          - sentry.ssegning.com
  system:
    url: https://sentry.ssegning.com
    adminEmail: selastlambou@gmail.com
  vroom:
    persistence:
      storageClassName: longhorn
  geodata:
    persistence:
      storageClass: longhorn
  symbolicator:
    api:
      persistence:
        storageClassName: longhorn
  zookeeper:
    persistence:
      storageClass: longhorn
  kafka:
    controller:
      replicaCount: 1
      persistence:
        storageClass: longhorn
  metrics:
    image:
      repository: container-registry.ssegning.com/docker/prom/statsd-exporter
  pgbouncer:
    image:
      repository: container-registry.ssegning.com/docker/bitnami/pgbouncer
  nginx:
    existingServerBlockConfigmap: observe-sentry-nginx # this should normally be calculated, but it's not. Hmm, why?

grafana-alloy:
  alloy:
    extraContainerPorts:
      - name: "otel"
        containerPort: 4317
      - name: "otel-http"
        containerPort: 4318
  ingress:
    enabled: true
    annotations:
      cert-manager.io/cluster-issuer: self-signed-ca
    hostname: alloy.home.ssegning
    tls: true
  configReloader: 
    enabled: false
    image: 
      repository: bitnamilegacy/configmap-reload