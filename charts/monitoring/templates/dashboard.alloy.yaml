# This should be installed by default by the loki helm chart
# But it is here just for reference
kind: ConfigMap
apiVersion: v1
metadata:
  name: {{ include "common.names.fullname" . }}-alloy-dashboard
  namespace: {{ include "common.names.namespace" $ | quote }}
  labels:
    {{ include "common.labels.standard" $ | nindent 4 }}
    grafana_dashboard: "1"

data:
  "alloy-cluster-node.json": |
    {{ $.Files.Get "src/dashboards/alloy-cluster-node.json" | fromJson | toJson }}
  "alloy-cluster-overview.json": |
    {{ $.Files.Get "src/dashboards/alloy-cluster-overview.json" | fromJson | toJson }}
  "alloy-controller.json": |
    {{ $.Files.Get "src/dashboards/alloy-controller.json" | fromJson | toJson }}
  "alloy-opentelemetry.json": |
    {{ $.Files.Get "src/dashboards/alloy-opentelemetry.json" | fromJson | toJson }}
  "alloy-prometheus.json": |
    {{ $.Files.Get "src/dashboards/alloy-prometheus.json" | fromJson | toJson }}
  "alloy-resources.json": |
    {{ $.Files.Get "src/dashboards/alloy-resources.json" | fromJson | toJson }}